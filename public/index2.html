<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>King Bokep | Galeri Vidio Viral</title>
    <meta name="description" content="Koleksi vidio viral dewasa terbaru. Jelajahi galeri, putar, dan nikmati koleksi terpopuler dari King Bokep." />

    <link rel="canonical" href="https://videyindoviral.vercel.app/" />

    <meta name="author" content="King Bokep" />
    <meta name="robots" content="index, follow, max-snippet:200, max-image-preview:large" />
    <meta name="rating" content="adult" />
    <meta name="contentRating" content="18+" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    <meta property="og:locale" content="id_ID" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="King Bokep" />
    <meta property="og:title" content="King Bokep — Galeri Vidio Viral" />
    <meta property="og:description" content="Koleksi vidio viral dewasa terbaru. Jelajahi galeri, putar, dan nikmati koleksi terpopuler." />
    <meta property="og:url" content="https://videyindoviral.vercel.app/" />
    <meta property="og:image" content="https://videyindoviral.vercel.app/gambar.jpg" />
    <meta property="og:image:alt" content="King Bokep — Galeri Vidio Viral" />
    <meta property="og:restrictions:age" content="18+" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="King Bokep — Galeri Vidio Viral" />
    <meta name="twitter:description" content="Koleksi vidio viral dewasa terbaru. Jelajahi galeri, putar, dan nikmati koleksi terpopuler." />
    <meta name="twitter:image" content="https://videyindoviral.vercel.app/gambar.jpg" />

    <link rel="preload" href="https://videyindoviral.vercel.app/gambar.jpg" as="image" />
    <link rel="preconnect" href="https://videyindoviral.vercel.app" crossorigin />

    <link rel="icon" href="/favicon.ico" type="image/x-icon" />

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#121212',
                        'card-dark': '#1E1E1E',
                        'accent': '#6366F1',
                    },
                    boxShadow: {
                        '3xl': '0 35px 60px -15px rgba(0, 0, 0, 0.3)',
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "WebSite",
          "name": "King Bokep",
          "url": "https://videyindoviral.vercel.app/",
          "publisher": {
            "@type": "Organization",
            "name": "King Bokep",
            "logo": {
                "@type": "ImageObject",
                "url": "https://videyindoviral.vercel.app/logo1.png"
            }
          },
          "about": {
            "@type": "Thing",
            "name": "Vidio Dewasa",
            "description": "Koleksi vidio dewasa viral."
          }
        }
    </script>

    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "CollectionPage",
          "name": "Galeri Vidio — King Bokep",
          "description": "Koleksi vidio viral dewasa terbaru.",
          "isFamilyFriendly": false,
          "contentRating": "18+",
          "url": "https://videyindoviral.vercel.app/"
        }
    </script>

    <style>
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }
        @keyframes fadeIn { to { opacity: 1; } }

        /* Video ratio */
        .video-aspect-ratio {
            padding-bottom: 56.25%;
            height: 0;
            position: relative;
        }

        /* Responsive grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 1.5rem;
        }
        @media (min-width: 768px) {
            .video-grid {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }
        @media (min-width: 1024px) {
            .video-grid {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }
        }

        .video-in-card {
            pointer-events: none;
            border-radius: 12px 12px 0 0;
        }
    </style>
</head>


<body class="bg-primary-dark text-gray-100 min-h-screen">

    <header class="bg-card-dark shadow-3xl fixed w-full z-20 backdrop-blur-sm bg-opacity-90">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            <a href="/" class="flex items-center space-x-3 transition transform hover:scale-105">
                <img src="https://videyindoviral.vercel.app/logo1.png" alt="Logo King Bokep - Mahkota K" class="h-10 w-10 object-contain">
                <h1 class="text-xl font-extrabold text-accent tracking-wider">KING BOKEP</h1>
            </a>
            
            <nav class="hidden md:block">
                <a href="/" class="text-gray-300 hover:text-accent mx-4 transition font-medium text-sm">GALERI</a>
                <a href="/tentang" class="text-gray-300 hover:text-accent mx-4 transition font-medium text-sm">TENTANG</a>
                <a href="/eporner" class="text-gray-300 hover:text-accent mx-4 transition font-medium text-sm">EPORNER</a>
                <a href="/login" class="ml-4 px-4 py-2 bg-accent/80 text-white rounded-full text-sm font-semibold hover:bg-accent transition transform hover:scale-105 shadow-lg shadow-accent/30">
                    <i class="fas fa-crown mr-1"></i> VIP
                </a>
            </nav>
            
            <button id="menuButton" class="md:hidden text-gray-300 hover:text-accent focus:outline-none p-2">
                <i class="fas fa-bars text-xl" id="menuIcon"></i>
            </button>
        </div>
        
        <div id="mobileMenu" class="hidden md:hidden pb-4 pt-2 border-t border-gray-700">
            <nav class="px-2 pt-2 pb-3 space-y-1">
                <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition">
                    <i class="fas fa-home mr-2"></i> GALERI
                </a>
                <a href="/tentang" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition">
                    <i class="fas fa-info-circle mr-2"></i> TENTANG
                </a>
                <a href="/eporner" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-gray-700 hover:bg-gray-600 transition">
                    <i class="fas fa-video mr-2"></i> EPORNER
                </a>
                <a href="/login" class="block w-full text-center mt-3 px-3 py-2 bg-accent text-white rounded-md text-base font-semibold hover:bg-accent/90 transition shadow-lg shadow-accent/30">
                    <i class="fas fa-crown mr-2"></i> LOGIN VIP
                </a>
                <a href="/register" class="block w-full text-center mt-2 px-3 py-2 bg-green-600 text-white rounded-md text-base font-semibold hover:bg-green-700 transition shadow-lg shadow-green-600/30">
                    <i class="fas fa-user-plus mr-2"></i> DAFTAR
                </a>
            </nav>
        </div>
    </header>
    <main class="p-4 md:p-8 pt-24">
        <header class="mb-12 text-center max-w-3xl mx-auto">
            <p class="text-sm font-semibold uppercase text-accent mb-2 tracking-widest">King's Collection</p>
            <h2 class="text-4xl sm:text-5xl font-extrabold text-white mb-3 leading-tight">Galeri Vidio <span
                        class="text-accent">Viral</span> Terbaru</h2>
            <p class="text-lg text-gray-400">Jelajahi koleksi premium, paling dicari, dan terpopuler yang selalu
                ter-update.</p>
        </header>
        <div class="max-w-7xl mx-auto">
            <div class="mb-8 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                <input type="text" id="searchInput" placeholder="Cari video (mis. Indoviral, Jepang)..."
                    class="w-full sm:w-80 px-4 py-2 border border-gray-700 rounded-lg focus:ring-accent focus:border-accent bg-gray-800 text-gray-100 placeholder-gray-500 text-sm">
                <select id="sortSelect"
                    class="w-full sm:w-40 px-4 py-2 border border-gray-700 rounded-lg focus:ring-accent focus:border-accent bg-gray-800 text-gray-100 text-sm">
                    <option value="latest">Terbaru</option>
                    <option value="views">Terpopuler</option>
                    <option value="rating">Rating Tertinggi</option>
                </select>
                <button id="searchButton"
                    class="w-full sm:w-auto px-6 py-2 bg-accent text-white rounded-lg font-semibold text-sm hover:bg-indigo-700 transition duration-300 shadow-lg shadow-accent/30">
                    Filter <i class="fas fa-search ml-1"></i>
                </button>
            </div>
            <div class="video-grid" id="videoGallery">
                </div>
            
            <div id="loadingIndicator" class="text-center col-span-full mt-10 text-gray-400 text-xl hidden">
                <i class="fas fa-spinner fa-spin mr-2"></i> Memuat video...
            </div>

            <div id="errorMessage" class="text-center col-span-full mt-10 text-red-400 text-xl hidden">
                Gagal memuat data video.
            </div>

            <div
                class="mt-12 flex flex-col md:flex-row justify-center md:justify-between items-center space-y-6 md:space-y-0 p-4 rounded-xl bg-card-dark/50 border border-gray-800">
                <p id="infoPaginasi" class="text-center text-sm text-gray-400 font-medium"></p>
                <div id="paginationContainer" class="flex justify-center space-x-2">
                    </div>

                <div class="flex items-center space-x-2">
                    <label for="pageInput"
                        class="text-gray-300 font-medium whitespace-nowrap text-sm hidden sm:block">Lompat ke
                        Halaman:</label>
                    <input type="number" id="pageInput"
                        class="w-16 px-3 py-2 border border-gray-700 rounded-lg text-center focus:ring-accent focus:border-accent bg-gray-800 text-gray-100 text-sm appearance-none"
                        min="1" value="1">
                    <button id="goToPageButton"
                        class="px-4 py-2 bg-accent text-white rounded-lg font-semibold text-sm hover:bg-indigo-700 transition duration-300 shadow-lg shadow-accent/30">
                        Go <i class="fas fa-arrow-right ml-1"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer class="mt-20 border-t border-gray-800 py-6 bg-card-dark/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-500 text-sm">
            <p>&copy; 2025 King Bokep. Semua Hak Cipta Dilindungi. <span class="text-red-500">18+</span> Content.</p>
            <div class="mt-2 space-x-4">
                <a href="#" class="hover:text-accent transition">Ketentuan Layanan</a>
                <span class="text-gray-600">|</span>
                <a href="#" class="hover:text-accent transition">Kebijakan Privasi</a>
            </div>
        </div>
    </footer>
    <script>
            (function (kcwd) {
                var d = document,
                    s = d.createElement('script'),
                    l = d.scripts[d.scripts.length - 1];
                s.settings = kcwd || {};
                s.src = "\/\/monumental-equipment.com\/bHXJV-s.dVGglq0UY_WWcJ\/FebmU9uusZPUAlwksPlT\/Yw2JOPTnYnz\/OGTSYFt\/NXjSY\/5yNVjSMd5GNzwK";
                s.async = true;
                s.referrerPolicy = 'no-referrer-when-downgrade';
                l.parentNode.insertBefore(s, l);
            })({})
    </script>
    <script>
        const gallery = document.getElementById('videoGallery');
        const paginationContainer = document.getElementById('paginationContainer');
        const infoPaginasi = document.getElementById('infoPaginasi');
        const pageInput = document.getElementById('pageInput');
        const goToPageButton = document.getElementById('goToPageButton');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const errorMessage = document.getElementById('errorMessage');
        const searchInput = document.getElementById('searchInput');
        const sortSelect = document.getElementById('sortSelect');
        const searchButton = document.getElementById('searchButton');

        // --- KONFIGURASI API EPORNER ---
        const EPORNER_API_URL = '/proxy-api';
        const API_KEY = 'YOUR_EPORNER_API_KEY'; // Ganti dengan API Key Anda jika ada

        // Jumlah video yang ditampilkan di UI per halaman
        const VIDEOS_PER_PAGE = 8; 
        
        // Catatan: Jumlah yang diminta ke API Eporner (parameter 'per_page') 
        // akan kita set sesuai dengan VIDEOS_PER_PAGE ini.

        const AD_TAG_URL_REDIRECT = 'https://fastblow.com/bC3XV_0/P.3ApNvobPm-VFJuZ/D/0I2qN/jLkY5GM/zsMZ4fLeTRYl2QOnTnkSzVMazxkj';

        let currentPage = 1;
        let totalVideos = 0;
        let totalPages = 1;
        let currentSearch = '';
        let currentOrder = 'latest'; // Default sorting

        // Fungsi bantu untuk mengubah format durasi dari detik ke "X menit"
        function formatDuration(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            const paddedSeconds = remainingSeconds < 10 ? '0' + remainingSeconds : remainingSeconds;
            return `${minutes}:${paddedSeconds}`;
        }

        // Fungsionalitas Iklan: TIDAK BERUBAH
        function triggerRedirectAd() {
            const newWindow = window.open(AD_TAG_URL_REDIRECT, '_blank');
            if (newWindow) { newWindow.blur(); window.focus(); }
        }

        // Fungsionalitas Pembuatan Kartu Video: Diperbarui untuk properti API yang dikonfirmasi
        function createVideoCard(videoData, index) {
            const card = document.createElement('a');

            // URL ke halaman detail, menggunakan properti 'url' dari respons JSON.
            // Gunakan ID video jika Anda memiliki halaman 'play.html' lokal yang memproses ID ini.
            
            card.href = `play2.html?id=${videoData.id}`; 

            card.className = 'group bg-card-dark rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.03] transition-all duration-300 ease-in-out cursor-pointer animate-fadeIn border border-gray-800';
            card.style.animationDelay = `${index * 0.08}s`; 

            // Menggunakan properti 'default_thumb.src' untuk thumbnail
            const thumbnailUrl = videoData.default_thumb?.src || 'https://via.placeholder.com/320x180.png?text=No+Preview'; 
            
            // Menggunakan properti 'length_sec' dan memformatnya.
            const durationFormatted = formatDuration(videoData.length_sec || 0); 
            const title = videoData.title || 'Video Tanpa Judul';

            card.innerHTML = `
                <div class="relative video-aspect-ratio bg-gray-900 flex items-center justify-center rounded-t-xl overflow-hidden"> 
                    <img src="${thumbnailUrl}" alt="Thumbnail ${title}" 
                        class="absolute top-0 left-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                        onerror="this.onerror=null;this.src='https://via.placeholder.com/320x180.png?text=No+Preview'" 
                        loading="lazy" />

                    <div class="absolute inset-0 z-10 flex items-center justify-center cursor-pointer 
                        bg-black/40 opacity-0 group-hover:opacity-100 
                        transition-opacity duration-300">
                        <i class="fas fa-play text-white text-3xl p-4 rounded-full bg-accent/90 group-hover:bg-accent transition transform group-hover:scale-110 shadow-lg shadow-accent/50"></i>
                    </div>
                    
                    <div class="absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full z-10 font-semibold">
                        <i class="far fa-clock mr-1"></i> ${durationFormatted}
                    </div>
                </div>
                <div class="p-4 text-left">
                    <h3 class="text-base font-bold text-white truncate group-hover:text-accent transition">${title}</h3>
                    <div class="text-xs text-gray-500 mt-1 flex items-center">
                        <i class="fas fa-eye mr-1 text-accent"></i> <span class="font-medium">${(videoData.views || 0).toLocaleString()}x ditonton</span>
                        <span class="ml-3 text-yellow-500">
                            <i class="fas fa-star"></i> ${(parseFloat(videoData.rate) * 10).toFixed(1) || '0.0'}
                        </span>
                    </div>
                </div>
            `;

            return card;
        }

        // Fungsionalitas Ambil Data dari API Eporner
        async function fetchVideos(page, query, order) {
            loadingIndicator.classList.remove('hidden');
            gallery.innerHTML = '';
            errorMessage.classList.add('hidden');

            const params = new URLSearchParams({
                action: 'search',
                query: query,
                order: order,
                per_page: VIDEOS_PER_PAGE, // Meminta sesuai yang ditampilkan di UI
                page: page,
                // api_key: API_KEY // Hapus atau gunakan jika Anda punya API Key
            });
            
            const apiUrl = `${EPORNER_API_URL}?${params.toString()}`;

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                
                if (data.videos && data.videos.length > 0) {
                    // Menggunakan data total yang lebih akurat dari respons JSON
                    totalVideos = data.total_count || 0;
                    totalPages = data.total_pages || Math.ceil(totalVideos / VIDEOS_PER_PAGE);
                    
                    displayVideos(data.videos, data.page, totalVideos, data.count, totalPages, false);

                } else {
                    gallery.innerHTML = '<p class="text-center col-span-full mt-10 text-xl text-gray-400">Tidak ada video ditemukan.</p>';
                    totalVideos = 0;
                    totalPages = 1;
                    renderPagination(totalPages);
                    infoPaginasi.textContent = 'Menampilkan 0 video.';
                }
            } catch (error) {
                console.error('Gagal memuat video dari Eporner API:', error);
                errorMessage.classList.remove('hidden');
                gallery.innerHTML = '<p class="text-red-400 text-center col-span-full mt-10">Gagal memuat data video. Coba lagi nanti.</p>';
                totalVideos = 0;
                totalPages = 1;
            } finally {
                loadingIndicator.classList.add('hidden');
            }
        }

        // Fungsionalitas Display Videos: Diperbarui dengan data pagination yang akurat
        function displayVideos(videosOnPage, page, total, count, totalPages, updateUrl = true) {
            currentPage = page;
            gallery.innerHTML = '';
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            videosOnPage.forEach((v, index) => {
                const card = createVideoCard(v, index);
                gallery.appendChild(card);
            });

            renderPagination(totalPages);

            const startIndex = (page - 1) * VIDEOS_PER_PAGE;
            const endIndex = startIndex + count;

            infoPaginasi.textContent = `Menampilkan ${startIndex + 1}-${Math.min(endIndex, total).toLocaleString()} dari ${total.toLocaleString()} video. (Halaman ${currentPage.toLocaleString()} dari ${totalPages.toLocaleString()})`;
            
            pageInput.value = currentPage;
            pageInput.max = totalPages;
            pageInput.min = 1;

            if (updateUrl) {
                const newUrl = `${window.location.pathname}?page=${currentPage}&query=${currentSearch}&order=${currentOrder}${window.location.hash}`;
                window.history.pushState({ path: newUrl }, '', newUrl);
            }
        }

        // Fungsionalitas Render Pagination: TIDAK BERUBAH (menggunakan totalPages yang sudah didapat)
        function renderPagination(totalPages) {
            paginationContainer.innerHTML = '';
            if (totalPages <= 1) return;

            const prevButton = createPaginationButton('<i class="fas fa-angle-left"></i>', currentPage - 1, currentPage === 1);
            paginationContainer.appendChild(prevButton);

            let startPage = Math.max(1, currentPage - 1);
            let endPage = Math.min(totalPages, currentPage + 1);
            
            if (currentPage === 1 && totalPages >= 3) { endPage = Math.min(3, totalPages); }
            else if (currentPage === totalPages && totalPages >= 3) { startPage = Math.max(1, totalPages - 2); }
            else if (totalPages < 3) { startPage = 1; endPage = totalPages; }
            
            if (startPage < 1) startPage = 1;
            if (endPage > totalPages) endPage = totalPages;
            if (startPage > endPage) startPage = endPage;


            for (let i = startPage; i <= endPage; i++) {
                const pageButton = createPaginationButton(i, i, i === currentPage);
                paginationContainer.appendChild(pageButton);
            }

            const nextButton = createPaginationButton('<i class="fas fa-angle-right"></i>', currentPage + 1, currentPage === totalPages);
            paginationContainer.appendChild(nextButton);
        }

        // Fungsionalitas Create Pagination Button: Diperbarui untuk memanggil fetchVideos
        function createPaginationButton(text, pageNumber, isActive = false) {
            const button = document.createElement('button');
            button.innerHTML = text;

            const baseClasses = 'w-10 h-10 rounded-full font-semibold transition duration-200 flex items-center justify-center text-sm shadow-md';

            if (isActive) {
                button.className = `${baseClasses} bg-accent text-white ring-2 ring-indigo-300/50`;
            } else if (pageNumber < 1 || pageNumber > totalPages) {
                button.className = `${baseClasses} bg-gray-800 text-gray-600 cursor-not-allowed`;
                button.disabled = true;
            } else {
                button.className = `${baseClasses} bg-gray-700 border border-gray-600 text-gray-200 hover:bg-gray-600 hover:text-white`;
                button.onclick = () => {
                    fetchVideos(pageNumber, currentSearch, currentOrder);
                };
            }
            return button;
        }

        // Fungsionalitas Get Initial Params From URL: TIDAK BERUBAH
        function getInitialParamsFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            const pageParam = urlParams.get('page');
            const queryParam = urlParams.get('query');
            const orderParam = urlParams.get('order');

            const pageNumber = parseInt(pageParam);
            
            return {
                page: (pageNumber > 0 && !isNaN(pageNumber)) ? pageNumber : 1,
                query: queryParam || '',
                order: orderParam || 'latest'
            };
        }

        // Fungsionalitas Go To Page: LOGIC IKLAN DIPERTAHANKAN
        function goToPageFromInput() {
            triggerRedirectAd();
            let page = parseInt(pageInput.value);
            
            if (isNaN(page) || page < 1) { page = 1; }
            else if (page > totalPages) { page = totalPages; }
            fetchVideos(page, currentSearch, currentOrder);
        }

        // Fungsionalitas Search/Filter
        function handleSearchAndFilter() {
            currentSearch = searchInput.value.trim();
            currentOrder = sortSelect.value;
            triggerRedirectAd(); // Iklan saat tombol filter diklik
            fetchVideos(1, currentSearch, currentOrder);
        }

        goToPageButton.addEventListener('click', goToPageFromInput);
        pageInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') { triggerRedirectAd(); goToPageFromInput(); }
        });
        searchButton.addEventListener('click', handleSearchAndFilter);
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') { handleSearchAndFilter(); }
        });

        // --- INISIALISASI ---
        document.addEventListener('DOMContentLoaded', () => {
            const initialParams = getInitialParamsFromUrl();
            currentPage = initialParams.page;
            currentSearch = initialParams.query;
            currentOrder = initialParams.order;
            
            // Set nilai input sesuai URL (jika ada)
            searchInput.value = currentSearch;
            sortSelect.value = currentOrder;

            fetchVideos(currentPage, currentSearch, currentOrder);
        });
        
        // Fungsionalitas Menu Mobile
        const menuButton = document.getElementById('menuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        const menuIcon = document.getElementById('menuIcon');

        menuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            if (mobileMenu.classList.contains('hidden')) {
                menuIcon.classList.remove('fa-times');
                menuIcon.classList.add('fa-bars');
            } else {
                menuIcon.classList.remove('fa-bars');
                menuIcon.classList.add('fa-times');
            }
        });
    </script>
    <script type='text/javascript'
        src='//sardineoctoberconnecting.com/5b/9b/7a/5b9b7a7dab949f5559d8fce454ac6f09.js'></script>
</body>

</html>